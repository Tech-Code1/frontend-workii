<header class="flex flex-row gap-6 w-full">
  <div class="flex flex-row gap-2 flex-grow-[4]">
    <!-- <div
      class="h-12 flex flex-grow bg-gray-lighter rounded-md pr-4 items-center"
    >
      <input
        type="text"
        class="flex w-full bg-transparent input-standard ring-0"
      />
      <img
        class="h-6 w-6"
        src="../../../../../../assets/images/svg/icon-search.svg"
        alt="icon search"
      />
    </div>
    <button class="w-12 h-12 btn-solid-blue rounded-md">
      <img
        src="../../../../../../assets/images/svg/icon-filter.svg"
        alt="icon filter"
      />
    </button> -->
  </div>

  <div class="flex flex-row flex-grow-[1] relative">
    <dark-mode></dark-mode>
    <button
      class="rounded-full mr-2 h-12 w-14 bg-transparent hover:bg-gray-lighter dark:hover:bg-black-alternative flex justify-center items-center"
    >
      <svg class="fill-primary-blueNeutral dark:fill-dark-prymaryColor" width="24" height="27" viewBox="0 0 24 27" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M21.2308 14.3871V13.8462H19.3846V14.7692C19.3847 15.014 19.482 15.2488 19.6551 15.4218L22.1538 17.9206V19.3846H1.84615V17.9206L4.34492 15.4218C4.51805 15.2488 4.61533 15.014 4.61538 14.7692V11.0769C4.61281 9.77981 4.95259 8.50498 5.60039 7.38121C6.24819 6.25744 7.18108 5.32452 8.30483 4.67668C9.42858 4.02884 10.7034 3.68902 12.0005 3.69155L12.9231 1.89323V0H11.0769V1.89231C8.80114 2.12394 6.69209 3.19118 5.15757 4.88767C3.62306 6.58417 2.77209 8.78939 2.76923 11.0769V14.3871L0.270462 16.8858C0.097339 17.0589 5.22807e-05 17.2937 0 17.5385V20.3077C0 20.5525 0.0972524 20.7873 0.270363 20.9604C0.443473 21.1335 0.678262 21.2308 0.923077 21.2308H7.38462V22.1538C7.38462 23.3779 7.87088 24.5519 8.73643 25.4174C9.60198 26.283 10.7759 26.7692 12 26.7692C13.2241 26.7692 14.398 26.283 15.2636 25.4174C16.1291 24.5519 16.6154 23.3779 16.6154 22.1538V21.2308H23.0769C23.3217 21.2308 23.5565 21.1335 23.7296 20.9604C23.9027 20.7873 24 20.5525 24 20.3077V17.5385C23.9999 17.2937 23.9027 17.0589 23.7295 16.8858L21.2308 14.3871ZM14.7692 22.1538C14.7692 22.8883 14.4775 23.5927 13.9581 24.112C13.4388 24.6313 12.7344 24.9231 12 24.9231C11.2656 24.9231 10.5612 24.6313 10.0419 24.112C9.52253 23.5927 9.23077 22.8883 9.23077 22.1538V21.2308H14.7692V22.1538Z"/>
        <path d="M2.76923 14.3871L2.76923 13.8466H4.61539L4.61538 14.7692C4.61533 15.014 4.51805 15.2488 4.34492 15.4218L1.84615 17.9206V19.3846H22.1538V17.9206L19.6551 15.4218C19.482 15.2488 19.3847 15.014 19.3846 14.7692V11.0772C19.3872 9.78009 19.0474 8.50523 18.3996 7.38143C17.7518 6.25762 16.8189 5.32468 15.6952 4.67682C14.5714 4.02896 13.2966 3.68913 11.9995 3.69166L11.0769 1.89231V0H12.9231V1.89323C15.1989 2.12487 17.3079 3.19128 18.8424 4.88782C20.3769 6.58436 21.2279 8.78964 21.2308 11.0772V14.3871L23.7295 16.8858C23.9027 17.0589 23.9999 17.2937 24 17.5385V20.3077C24 20.5525 23.9027 20.7873 23.7296 20.9604C23.5565 21.1335 23.3217 21.2308 23.0769 21.2308H16.6154V22.1538C16.6154 23.3779 16.1291 24.5519 15.2636 25.4174C14.398 26.283 13.2241 26.7692 12 26.7692C10.7759 26.7692 9.60198 26.283 8.73643 25.4174C7.87088 24.5519 7.38462 23.3779 7.38462 22.1538V21.2308H0.923077C0.678262 21.2308 0.443473 21.1335 0.270363 20.9604C0.0972524 20.7873 0 20.5525 0 20.3077V17.5385C5.22807e-05 17.2937 0.097339 17.0589 0.270462 16.8858L2.76923 14.3871ZM9.23077 22.1538C9.23077 22.8883 9.52253 23.5927 10.0419 24.112C10.5612 24.6313 11.2656 24.9231 12 24.9231C12.7344 24.9231 13.4388 24.6313 13.9581 24.112C14.4775 23.5927 14.7692 22.8883 14.7692 22.1538V21.2308H9.23077V22.1538Z"/>
      </svg>
    </button>

    <ng-container *ngIf="user$ | async as user">
      <div class="flex w-full" clickOutside (clickOutside)="clickedOutside()">
        <div
          (click)="toggleMenu()"
          [ngClass]="{
            'bg-gray-lighter dark:bg-black-alternative': isMenuOpened,
            'bg-transparent': !isMenuOpened
          }"
          class="flex flex-grow justify-between gap-2 h-12 rounded-full hover:bg-gray-lighter dark:hover:bg-black-alternative pr-4 items-center cursor-pointer"
        >
          <div class="flex gap-4">
            <img
              class="rounded-full h-12 w-12 bg-gray-light"
              [src]="user.avatar"
              alt="avatar user"
            />

            <div class="flex flex-col justify-between">
              <p class="title-base-black">@{{ user.nick }}</p>
              <p class="title-sm-black">{{ user.profession }}</p>
            </div>
          </div>
          <svg [ngClass]="{
            'rotate-180': isMenuOpened,
            'transition fill-primary-blueNeutral dark:fill-dark-prymaryColor' : true
          }" width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10.7197 14.1036C9.94473 15.4089 8.05527 15.4089 7.28029 14.1036L0.793767 3.17897C0.00218866 1.84579 0.963001 0.157896 2.51348 0.157897L15.4865 0.157898C17.037 0.157898 17.9978 1.84579 17.2062 3.17898L10.7197 14.1036Z"/>
            </svg>
        </div>
      </div>
    </ng-container>

    <ng-container *ngIf="isMenuOpened">
      <ul
        class="flex z-20 flex-col gap-2 absolute right-0 top-[58px] w-9/12 ring-1 h-auto rounded-b-md bg-white-principal dark:bg-black-alternative px-4 pb-4 pt-1 shadow-sm dark:shadow-white-principal"
      >
        <li
          routerLink="/dashboard/settings"
          class="list-none flex flex-row gap-4 items-center cursor-pointer h-12 px-4 rounded-md"
          [ngClass]="{ 'hover:bg-secondary-lightBlue dark:hover:bg-dark-secondaryColorBlue': !setting.isActive }"
          routerLinkActive="bg-primary-blueNeutral"
          #setting="routerLinkActive"
        >
          <svg
            [ngClass]="{
              'fill-white-principal': setting.isActive,
              'fill-black-principal dark:fill-white-principal':
                !setting.isActive
            }"
            width="24"
            height="25"
            viewBox="0 0 24 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M22.0391 13.0223C21.8433 12.7994 21.7353 12.5128 21.7353 12.2161C21.7353 11.9194 21.8433 11.6329 22.0391 11.41L23.6025 9.65108C23.7748 9.4589 23.8818 9.2171 23.9081 8.96036C23.9345 8.70361 23.8788 8.44513 23.7491 8.22198L21.3062 3.99579C21.1778 3.7729 20.9824 3.59622 20.7477 3.49095C20.513 3.38567 20.2511 3.35716 19.9993 3.40949L17.703 3.87364C17.4108 3.93402 17.1066 3.88535 16.8478 3.73684C16.589 3.58833 16.3936 3.35023 16.2983 3.06749L15.5532 0.832244C15.4713 0.589639 15.3152 0.378923 15.1069 0.229878C14.8987 0.0808339 14.6489 0.00100011 14.3928 0.00166111H9.50706C9.2407 -0.0122414 8.97711 0.061422 8.75656 0.2114C8.536 0.361379 8.3706 0.579428 8.28561 0.832244L7.6016 3.06749C7.50633 3.35023 7.31086 3.58833 7.05209 3.73684C6.79332 3.88535 6.48913 3.93402 6.19694 3.87364L3.83955 3.40949C3.60082 3.37576 3.35745 3.41343 3.14009 3.51776C2.92273 3.62209 2.74111 3.78842 2.61811 3.99579L0.175217 8.22198C0.0422754 8.44264 -0.0174996 8.69967 0.00443817 8.95635C0.0263759 9.21302 0.128903 9.45618 0.297362 9.65108L1.8486 11.41C2.04442 11.6329 2.15241 11.9194 2.15241 12.2161C2.15241 12.5128 2.04442 12.7994 1.8486 13.0223L0.297362 14.7811C0.128903 14.976 0.0263759 15.2192 0.00443817 15.4759C-0.0174996 15.7325 0.0422754 15.9896 0.175217 16.2102L2.61811 20.4364C2.74648 20.6593 2.94194 20.836 3.17662 20.9413C3.4113 21.0466 3.67322 21.0751 3.92505 21.0227L6.22137 20.5586C6.51356 20.4982 6.81774 20.5469 7.07652 20.6954C7.33529 20.8439 7.53076 21.082 7.62603 21.3647L8.37111 23.6C8.4561 23.8528 8.6215 24.0708 8.84206 24.2208C9.06262 24.3708 9.3262 24.4445 9.59256 24.4306H14.4783C14.7344 24.4312 14.9842 24.3514 15.1924 24.2023C15.4007 24.0533 15.5568 23.8426 15.6387 23.6L16.3838 21.3647C16.4791 21.082 16.6745 20.8439 16.9333 20.6954C17.1921 20.5469 17.4963 20.4982 17.7885 20.5586L20.0848 21.0227C20.3366 21.0751 20.5985 21.0466 20.8332 20.9413C21.0679 20.836 21.2633 20.6593 21.3917 20.4364L23.8346 16.2102C23.9643 15.9871 24.02 15.7286 23.9936 15.4719C23.9673 15.2151 23.8603 14.9733 23.688 14.7811L22.0391 13.0223ZM20.2191 14.659L21.1963 15.7583L19.6328 18.4699L18.1915 18.1768C17.3118 17.9969 16.3967 18.1464 15.6199 18.5967C14.8431 19.047 14.2587 19.7669 13.9775 20.6196L13.5134 21.9877H10.3865L9.94678 20.5952C9.66567 19.7425 9.08124 19.0226 8.30443 18.5723C7.52762 18.1219 6.6125 17.9725 5.73279 18.1523L4.29149 18.4455L2.70361 15.7461L3.68076 14.6468C4.28166 13.975 4.61386 13.1052 4.61386 12.2039C4.61386 11.3026 4.28166 10.4328 3.68076 9.76101L2.70361 8.66171L4.26706 5.97453L5.70836 6.26767C6.58807 6.4475 7.50319 6.29806 8.28 5.84774C9.05681 5.39741 9.64124 4.67755 9.92235 3.82478L10.3865 2.44455H13.5134L13.9775 3.837C14.2587 4.68976 14.8431 5.40963 15.6199 5.85995C16.3967 6.31028 17.3118 6.45971 18.1915 6.27989L19.6328 5.98674L21.1963 8.69835L20.2191 9.79765C19.625 10.4679 19.2969 11.3326 19.2969 12.2283C19.2969 13.124 19.625 13.9887 20.2191 14.659ZM11.9499 7.33033C10.9836 7.33033 10.039 7.61688 9.23555 8.15373C8.43209 8.69059 7.80587 9.45364 7.43607 10.3464C7.06628 11.2392 6.96953 12.2215 7.15804 13.1693C7.34656 14.117 7.81189 14.9876 8.49518 15.6709C9.17847 16.3542 10.049 16.8195 10.9968 17.008C11.9445 17.1965 12.9269 17.0998 13.8197 16.73C14.7124 16.3602 15.4755 15.734 16.0123 14.9305C16.5492 14.127 16.8357 13.1824 16.8357 12.2161C16.8357 10.9203 16.321 9.6776 15.4047 8.76134C14.4885 7.84508 13.2457 7.33033 11.9499 7.33033ZM11.9499 14.659C11.4668 14.659 10.9945 14.5157 10.5927 14.2473C10.191 13.9789 9.87791 13.5973 9.69301 13.151C9.50811 12.7046 9.45974 12.2134 9.554 11.7395C9.64825 11.2657 9.88092 10.8304 10.2226 10.4887C10.5642 10.1471 10.9995 9.91442 11.4734 9.82016C11.9472 9.7259 12.4384 9.77428 12.8848 9.95917C13.3312 10.1441 13.7127 10.4572 13.9811 10.8589C14.2496 11.2606 14.3928 11.733 14.3928 12.2161C14.3928 12.864 14.1355 13.4854 13.6773 13.9435C13.2192 14.4016 12.5978 14.659 11.9499 14.659Z"
            />
          </svg>

          <p
            class="title-base-black"
            [ngClass]="{ 'text-white-principal': setting.isActive }"
          >
            Configuración
          </p>
        </li>

        <li
          (click)="logout()"
          class="list-none flex flex-row gap-4 items-center cursor-pointer h-12 px-4 rounded-md hover:bg-secondary-lightBlue dark:hover:bg-dark-secondaryColorBlue"
        >
          <svg
            class="stroke-black-principal dark:stroke-white-principal"
            width="26"
            height="26"
            viewBox="0 0 26 26"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M13 13H25M25 13L19.8571 17M25 13L19.8571 9M25 5V3.66667C25 2.95942 24.6388 2.28115 23.9958 1.78105C23.3528 1.28095 22.4807 1 21.5714 1H4.42857C3.51926 1 2.64719 1.28095 2.00421 1.78105C1.36122 2.28115 1 2.95942 1 3.66667V22.3333C1 23.0406 1.36122 23.7189 2.00421 24.219C2.64719 24.719 3.51926 25 4.42857 25H21.5714C22.4807 25 23.3528 24.719 23.9958 24.219C24.6388 23.7189 25 23.0406 25 22.3333V21"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>

          <p class="title-base-black">Logout</p>
        </li>

        <div class="h-0.5 w-full bg-gray-light my-4"></div>

        <button class="btn-ghost-neutral h-10 gap-2 hover-parent w-full">
          <svg
            class="w-6 h-6 hover-child"
            width="27"
            height="27"
            viewBox="0 0 27 27"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M13.5 0C6.0561 0 0 6.0561 0 13.5V19.0931C0 20.4755 1.21095 21.6 2.7 21.6H4.05C4.40804 21.6 4.75142 21.4578 5.00459 21.2046C5.25777 20.9514 5.4 20.608 5.4 20.25V13.307C5.4 12.9489 5.25777 12.6055 5.00459 12.3524C4.75142 12.0992 4.40804 11.957 4.05 11.957H2.8242C3.5748 6.73245 8.0703 2.7 13.5 2.7C18.9297 2.7 23.4252 6.73245 24.1758 11.957H22.95C22.592 11.957 22.2486 12.0992 21.9954 12.3524C21.7422 12.6055 21.6 12.9489 21.6 13.307V21.6C21.6 23.0891 20.389 24.3 18.9 24.3H16.2V22.95H10.8V27H18.9C21.8781 27 24.3 24.5781 24.3 21.6C25.7891 21.6 27 20.4755 27 19.0931V13.5C27 6.0561 20.9439 0 13.5 0Z"
            />
          </svg>

          Soporte
        </button>
      </ul>
    </ng-container>
  </div>
</header>
