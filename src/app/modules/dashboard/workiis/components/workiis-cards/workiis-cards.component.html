<section
  class="grid grid-flow-row gap-y-16 gap-x-4 2xl:grid-cols-5 xl:grid-cols-4 lg:grid-cols-3 overflow-auto heigh-dynamic pt-10 pr-1"
>
  <b *ngIf="loading$ | async">Cargando....</b>
  <div
    class="flex justify-center"
    *ngFor="let workii of workiis$ | async; let i = index"
  >
    <div
      (click)="openModal(workii, i, applies)"
      class="w-[242px] flex flex-col cursor-pointer hover:scale-110 transition"
    >
      <div
        class="bg-gray-lighter rounded-t-xl h-[150px] flex justify-between flex-col px-4 pt-2 relative"
      >
        <div
          class="w-16 h-16 bg-gray-light absolute rounded-full -top-[24px]"
        ></div>

        <div class="pt-10 gap-2 flex flex-col">
          <h3
            class="title-lg-black w-[190px] h-7 text-ellipsis overflow-hidden whitespace-nowrap"
          >
            {{ workii.name }}
          </h3>
          <div class="gap-2 flex flex-row items-center">
            <img
              src="../../../../../../assets/images/svg/icon-target.svg"
              alt="icon target"
            />
            <p class="body-sm-black">{{ workii.target }}</p>
          </div>
          <div class="gap-2 flex flex-row items-center">
            <img
              src="../../../../../../assets/images/svg/icon-time.svg"
              alt="icon target"
            />
            <p class="body-sm-black">{{ workii.executionTime }} d√≠as</p>
          </div>
        </div>
      </div>

      <div
        [ngClass]="{
          'bg-accent-yellow title-sm-black border-b-0':
            !isApplyWorkiiId.includes(workii.id!) &&
            userCurrentId !== workii.user.id,
          'bg-success-greenLight border-success-greenDark':
            isApplyWorkiiId.includes(workii.id!),
          'bg-secondary-lightBlue border-primary-blueNeutral':
            userCurrentId === workii.user.id,
          'h-12 w-full rounded-b-xl flex flex-col items-center px-4 py-1 border-b-4': true
        }"
      >
        <ng-container
          *ngIf="
            !isApplyWorkiiId.includes(workii.id!) &&
            userCurrentId !== workii.user.id
          "
        >
          <div class="flex flex-row items-center gap-1 w-full">
            <img
              src="../../../../../../assets/images/svg/icon-decorator-card-workii.svg"
              alt="icon decorator card workii"
            />
            <div class="h-[1px] bg-black-principal flex-grow"></div>

            <p>Recompensa</p>

            <div class="h-[1px] bg-black-principal flex-grow"></div>
            <img
              src="../../../../../../assets/images/svg/icon-decorator-card-workii.svg"
              alt="icon decorator card workii"
            />
          </div>

          <p>{{ workii.cost }} USD</p>
        </ng-container>

        <ng-container *ngIf="isApplyWorkiiId.includes(workii.id!)">
          <div class="flex flex-col gap-1 items-center justify-center pt-1">
            <img
              src="../../../../../../assets/images/svg/icon-check.svg"
              alt="icon check"
            />
            <p class="text-success-greenDark title-sm-white">Has aplicado</p>
          </div>
        </ng-container>

        <ng-container *ngIf="userCurrentId === workii.user.id">
          <div class="flex flex-col gap-1 items-center justify-center pt-1">
            <img
              src="../../../../../../assets/images/svg/icon-time.svg"
              alt="icon time"
            />
            <p class="text-primary-blueNeutral title-sm-white">
              Buscando talentos
            </p>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
  <div *ngIf="modalSwitch">
    <modal-info-workii
      [workii]="selectedWorkii"
      [isOwner]="isOwner"
      [index]="index"
      [isApplyWorkiiId]="isApplyWorkiiId"
      [apply]="apply"
      [userCurrentId]="userCurrentId"
    ></modal-info-workii>
  </div>
</section>
